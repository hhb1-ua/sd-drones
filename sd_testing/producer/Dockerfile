FROM python:3.11.2
ARG TOPIC
ARG MESSAGE
ARG NUMBER
ARG PARTITION
ENV TOPIC ${TOPIC}
ENV MESSAGE ${MESSAGE}
ENV NUMBER ${NUMBER}
ENV PARTITION ${PARTITION}
WORKDIR /app
COPY requirements.txt requirements.txt
RUN pip install -r requirements.txt
COPY . .

CMD python3 -u producer.py $TOPIC $MESSAGE $NUMBER $PARTITION
